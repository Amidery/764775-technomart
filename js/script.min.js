var link=document.querySelector(".write-us-link"),popup=document.querySelector(".modal-write-us"),close=document.querySelectorAll(".modal-close"),mapLink=document.querySelector(".google-map"),mapPopup=document.querySelector(".modal-map"),cartLink=document.querySelectorAll(".buy"),cartPopup=document.querySelector(".cart"),isStorageSupport=!0,storageUsername=storageEmail="";try{storageUsername=localStorage.getItem("username"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}if(popup){var form=popup.querySelector("form"),username=popup.querySelector("[name=name]"),email=popup.querySelector("[name=email]"),letter=popup.querySelector("[name=letter]");link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),storageUsername&&storageEmail?(username.value=storageUsername,email.value=storageEmail,letter.focus()):storageUsername?(username.value=storageUsername,email.focus()):(storageEmail&&(email.value=storageEmail),username.focus())}),form.addEventListener("submit",function(e){username.value&&email.value&&letter.value?isStorageSupport&&(localStorage.setItem("username",username.value),localStorage.setItem("email",email.value)):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))})}if(mapPopup&&mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-show")}),cartPopup)for(i=0;i<cartLink.length;i++)cartLink[i].addEventListener("click",function(e){e.preventDefault(),cartPopup.classList.add("modal-show")});for(i=0;i<close.length;i++)close[i].addEventListener("click",function(e){e.preventDefault(),this.parentNode.classList.remove("modal-show"),this.parentNode.classList.remove("modal-error")});window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup&&popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-error")),mapPopup&&mapPopup.classList.contains("modal-show")&&mapPopup.classList.remove("modal-show"),cartPopup&&cartPopup.classList.contains("modal-show")&&cartPopup.classList.remove("modal-show"))});var slides=document.querySelectorAll(".slider-radio");if(0<slides.length){var counter=0,changeToNextSlide=function(){for(;counter<=slides.length;counter++)if(slides[counter].hasAttribute("checked")){if(counter==slides.length-1){slides[counter].removeAttribute("checked"),slides[counter].checked=!1,slides[counter=0].setAttribute("checked","checked"),slides[counter].checked=!0;break}slides[counter].removeAttribute("checked"),slides[counter].checked=!1,slides[counter+1].setAttribute("checked","checked"),slides[counter+1].checked=!0;break}counter=0},changeToPrevSlide=function(){for(;counter<=slides.length;counter++)if(slides[counter].hasAttribute("checked")){if(0==counter){slides[counter].removeAttribute("checked"),slides[counter].checked=!1,counter=slides.length-1,slides[counter].setAttribute("checked","checked"),slides[counter].checked=!0;break}slides[counter].removeAttribute("checked"),slides[counter].checked=!1,slides[counter-1].setAttribute("checked","checked"),slides[counter-1].checked=!0;break}counter=0};console.log(slides),document.querySelector(".slider-buttons-next").addEventListener("click",function(e){e.preventDefault(),changeToNextSlide()}),document.querySelector(".slider-buttons-previous").addEventListener("click",function(e){e.preventDefault(),changeToPrevSlide()})}var serviceSlides=document.querySelectorAll(".features li");if(serviceSlides){for(var index,serviceDescription=document.querySelectorAll(".features-description li"),tab=[],i=0;i<serviceSlides.length;i++)tab.push(serviceSlides[i].innerHTML);for(i=0;i<serviceSlides.length;i++)serviceSlides[i].onclick=function(){index=tab.indexOf(this.innerHTML);for(var e=0;e<serviceSlides.length;e++)index==e?serviceSlides[e].classList.add("features-current"):serviceSlides[e].classList.remove("features-current");for(e=0;e<serviceDescription.length;e++)index==e?serviceDescription[e].classList.add("visible"):serviceDescription[e].classList.remove("visible")}}